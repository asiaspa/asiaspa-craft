{# need to modify to external image version #}
{% if img | length %}

{% set caption = caption ?? '' %}
{# follow ratio, if not follow original size, or otherwise enforce defaultio aspect #}
{% set h = h | default(img.getHeight ?? '9' ) %}
{% set w = w | default(img.getWidth ?? '8' ) %}
{% set aspect = w / h %}
{% set x = x | default (img.focalPoint.x ?? '0.5') %}
{% set x = x | default (img.focalPoint.y ?? '0.5') %}

{% set transformedImages = craft.imager.transformImage(
    img, 
    [{ width: 160 },{ width: 1920 }], 
    { ratio: aspect }, 
    { fillTransforms: true }) 
%}

<img class="w-full h-auto over-flow-hidden" sizes="100vw"  
    src="{{ craft.imager.placeholder({ width: w, height: h}) }}"  
    srcset="{{ transformedImages | srcset }}" >


{# 
<figure class="relative w-full overflow-hidden bg-gray-100" style="padding-bottom: {{ 1/aspect*100 }}%">
    <img class="absolute w-full h-full pin object-fit-cover"          
        srcset="{{ craft.imager.placeholder({ width: w, height: h }) }}"
        src="{{ image.path | imgix({ ar: ratio| replace({'/':':'}), w:1024 }) }}"
    />
    {% if caption %}
    <figcaption class="absolute bottom-0 left-0 right-0">{{ caption }}</figcaption>
    {% endif %}
</figure> #}

{% else %}
<figure class="relative w-full overflow-hidden bg-gray-100" style="padding-bottom: {{ 9/8*100 }}%">
    <div class="absolute w-full h-full pin object-fit-cover" />
</figure>

{% endif %}
