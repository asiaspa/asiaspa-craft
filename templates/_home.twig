{#  TODO:
    ! user routing

    ! Collect exclude IDs 
    ! Make story carousel, story gallery to accept multiple entries source (becomes tab)
    ! Add Multicategory widget (tatler reference)
    ! Add Trending widget (allure.com reference)
    ! Add Newsletter widget
    ! Add Spa Locator widget
    ! Add Subscription widget
    ! Add Print issue widget

    !text-underline using background style (https://codyhouse.co/ds/components/app/text-background-effects)
#}

{% extends "_layouts/_generic" %}

{# -------------------  query ------------------- #}
{% do craft.app.elements.eagerLoadElements(className(entry), [entry], [
        'homeHeroStory',
        'homeHeroStory.storyHeroImage',
        'homeHeroStory.storyCategory',
        'homeHeroStory.storyPrintIssues',
        'homeHeroStory.storyByline',
        'homeHeroStory.author'
]) %}

{# -------------------  Content  ------------------- #}
{% block main %}
{% if entry.homeHeroStory %}
{# logo #}
{% embed "_containers/_container"%}
{% block content %}
<div class="flex flex-row items-end">
    <div class="w-3/4 md:w-1/2">
        <div class="relative z-50 " style="transform:translateY(35%)">
         {% if website.websiteLogo | length  %}
            <img class="block w-auto h-full"
                 src="{{ rev(website.websiteLogo[0].url()) }}" />
            {% else %}
                <span>{{ siteName }}</span>
            {% endif %}
        </div>
    </div>
    <div class="hidden text-right md:block md:w-full">
        subscribe to magazine 
    </div>
</div>
{% endblock %}
{% endembed %}

{# hero image #}
{% embed "_containers/_container" %}
{% block content %}
<div class="relative -mx-edge">
    <div class="hidden md:block">
        {% include "_components/_imager" with { image: entry.homeHeroStory[0].storyHeroImage[0], w: 16, h: 9 } %}
    </div>
    <div class="block md:hidden">
        {% include "_components/_imager" with { image: entry.homeHeroStory[0].storyHeroImage[0], w: 8, h: 9 } %}
    </div>
    <div class="relative top-0 bottom-0 left-0 w-full md:pt-32 md:w-1/2 md:absolute p-edge">
        <h1 class="sticky text-4xl font-semibold leading-tight md:text-white md:leading-none font-display md:text-4xl lg:text-6xl" style="top:128px;">{{ entry.homeHeroStory[0].title }}</h1>
    </div>
</div>
{% endblock %}
{% endembed %}

{% endif %}


{% include "_pages/_layout-builder" with {'matrix': entry.layoutBuilder } %}
{{ sprig('_categories/_story-filter') }}

{% endblock %}