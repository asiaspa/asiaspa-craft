{#  TODO:
    ! user routing

    ! Collect exclude IDs 
    ! Make story carousel, story gallery to accept multiple entries source (becomes tab)
    ! Add Multicategory widget (tatler reference)
    ! Add Trending widget (allure.com reference)
    ! Add Newsletter widget
    ! Add Spa Locator widget
    ! Add Subscription widget
    ! Add Print issue widget

    !text-underline using background style (https://codyhouse.co/ds/components/app/text-background-effects)
#}

{% extends "_layouts/_generic" %}

{# -------------------  query ------------------- #}
{% do craft.app.elements.eagerLoadElements(className(entry), [entry], [
        'homeHeroStory',
        'homeHeroStory.storyHeroImage',
        'homeHeroStory.storyCategory',
        'homeHeroStory.storyPrintIssues',
        'homeHeroStory.storyByline',
        'homeHeroStory.author'
]) %}

{# -------------------  Content  ------------------- #}
{% block main %}

{% embed "_containers/_container"%}
{% block content %}
<div class="flex flex-row items-end">
    <div class="w-3/4 md:w-1/2">
        <div class="relative z-50 " style="transform:translateY(35%)">
         {% if website.websiteLogo | length  %}
            <img class="block w-auto h-full"
                 src="{{ rev(website.websiteLogo[0].url()) }}" />
            {% else %}
                <span>{{ siteName }}</span>
            {% endif %}
        </div>
    </div>
    <div class="hidden text-right md:block md:w-1/2">
        subscribe to magazine 
    </div>
</div>
{% endblock %}
{% endembed %}

{% embed "_containers/_container" %}
{% block content %}
<div class="relative -mx-edge">
    <div class="hidden md:block">
        {% include "_components/_imager" with { image: entry.homeHeroStory[0].storyHeroImage[0], w: 16, h: 9 } %}
    </div>
    <div class="block md:hidden">
        {% include "_components/_imager" with { image: entry.homeHeroStory[0].storyHeroImage[0], w: 8, h: 9 } %}
    </div>
    <div class="top-0 bottom-0 md:absolute">
        <div class="flex flex-col w-full h-full p-edge md:w-1/2 lg:w-1/3">
            <div class="self-center">
                <h1 class="font-serif text-3xl leading-tight tracking-tight font-serif-bold md:text-4xl lg:text-5xl">{{ entry.homeHeroStory[0].title }}</h1
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% endembed %}

{# 
<div class="relative">
    <div class="absolute bg-primary-300 inset" style="transform:translateY(50%)"></
{% embed "_containers/_container" %}
{% block content %}
<div class="flex flex-col py-16 space-x-16 md:flex-row">
     <div class="w-1/2 space-y-4">
        <a class="block"  href="{{ entry.homeHeroStories[1].url }}">
            {% include "_components/_imager" with { image : entry.homeHeroStories[1].storyHeroImage[0] ?? '', w : 16, h : 9 } %}
        </a>
        <div class="space-x-2">
            {% include "_components/_category-tag" with { category : entry.homeHeroStories[1].storyCategory } %}
            {% include "_components/_category-tag" with { category : entry.homeHeroStories[1].storyPrintIssue } %}
        </div>
        <a  class="block" href="{{ entry.homeHeroStories[1].url }}">
            <p class="font-serif text-xl font-medium leading-tight hover:underline lg:text-2xl">{{ entry.homeHeroStories[1].title }}</p>
            <p class="mt-2 text-gray-500 text-md">{{ entry.homeHeroStories[1].storyStandfirst }}</p>
        </a>
    </div>

     <div class="w-1/2 space-y-4">
        <div class="space-x-6">
            {% include "_components/_category-tag" with { category : entry.homeHeroStories[2].storyCategory } %}
            {% include "_components/_category-tag" with { category : entry.homeHeroStories[2].storyPrintIssue } %}
        </div>
        <a  class="block" href="{{ entry.homeHeroStories[2].url }}">
            <p class="font-serif text-xl font-medium leading-tight hover:underline lg:text-2xl">{{ entry.homeHeroStories[2].title }}</p>
            <p class="mt-2 text-gray-500 text-md">{{ entry.homeHeroStories[2].storyStandfirst }}</p>
        </a>
        <a class="block" href="{{ entry.homeHeroStories[2].url }}">
            {% include "_components/_imager" with { image : entry.homeHeroStories[2].storyHeroImage[0] ?? '', w : 16, h : 9 } %}
        </a>
       
    </div>
</div>
{% endblock %}
{% endembed %}
</div> #}



{% embed "_pages/_layout-builder" with {'matrix': entry.layoutBuilder, 'featured': true} %}
    {% block content %}   
    {{ sprig('_categories/_story-filter') }}
    {% endblock %}
{% endembed %}

{% endblock %}
