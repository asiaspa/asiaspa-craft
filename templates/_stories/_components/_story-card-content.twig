{% set break = false %}

{%- set headlineStyle -%}
{% for layout in layouts if not break %}
{% set pattern = layout|split(':') %}
{% set p = pattern|first == "" ? "" : pattern|first ~ ":" %}
    {% if size == pattern|first %}
        {% set break = true %}
    {% endif %}
    {% switch pattern|first %}
        {% case '' %}{% if pattern|last == 'card' or pattern|last == 'widecard' %}text-xl {% else %}text-lg {% endif %}
        {% case 'sm' %}{{ p }}text-xl
        {% case 'md' %}{{ p }}text-2xl
        {% case 'lg' %}{{ p }}text-2xl
    {% endswitch %}
{% endfor %}
{%- endset -%}

<div class="space-y-2">
    <div class="space-x-4">
        {% include "_components/_category-tag" with { category : entry.storyCategory } %}
        {% include "_components/_category-tag" with { category : entry.storyPrintIssue } %}
    </div>
    <a class="space-y-4" href="{{ entry.url }}">
        <h4 class="font-light leading-tight tracking-wide font-display text-bg {{ headlineStyle }} ">{{ entry.title }}</h4>
        {% include "_components/_hr" %}
        <p class="text-sm md:text-md">{{ entry.storyStandfirst }}</p>
    </a>
    {% if byline %}
    <p class="block mt-2 text-sm text-gray-700">By <a href="{{ url('authors/' ~ entry.storyByline[0].username ?? entry.author.username ) }}">{{ entry.storyByline[0] ?? entry.author }}</a></p>
    {% endif %}
</div>